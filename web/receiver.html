<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<!-- saved from url=(0077)http://www.xrtml.org/demos/broadcastexecutereceiver.aspx?SessionID=dummyToken -->
<html xmlns="http://www.w3.org/1999/xhtml"><head><meta http-equiv="Content-Type" content="text/html; charset=UTF-8"><title>
	xRTML Demo: Broadcast/Execute
</title>

    <!--[if lt IE 9]>
        <script src="http://www.xrtml.org/demos/scripts/html5.js" type="text/javascript"></script>
    <![endif]-->

     <script type="text/javascript" src="./recever_files/xrtml-3.1.0.js"></script><script type="text/javascript" src="./recever_files/ortc.js"></script>  
    
    <link href="http://www.xrtml.org/demos/css/styles.css" rel="stylesheet">
    <script type="text/javascript">
        xRTML.Config.debug = true;

        function onSubscribed() {
            document.getElementById("spanRT").className = " rt on";
        };

        function connectionLost() {
            document.getElementById("spanRT").className = " rt off";
        };

        var connectionConfig = {
            id: 'ACME_connection',
            appKey: 'BCLjCR',
            authToken: 'dummyToken',
            url: 'http://ortc-developers.realtime.co/server/2.1',
            channels: [{ name: 'my_channel'}],
            onSubscribe: window.onSubscribed,
            onUnsubscribe: connectionLost,
            onDisconnect: connectionLost
        }
        xRTML.ready(function () {
            xRTML.ConnectionManager.create(connectionConfig);
        });
    </script>

    
    <link href="http://www.xrtml.org/demos/css/broadcastExecute.css" rel="stylesheet">
    <script type="text/javascript" src="./recever_files/jquery-1.6.4.min.js"></script>
    <script type="text/javascript" src="./recever_files/jquery-ui-1.8.16.custom.min.js"></script>
    <script type="text/javascript">

        var rotationclassactive = "rotatedElement0";

        function doSomething(message) {
          
            var action = message.action;
            var effect = ["bounce", "shake", "highlight", "pulsate"];
            var transform = ["uppercase", "lowercase", "capitalize", "none"];
            var classes = ["rotatedElement0", "rotatedElement45", "rotatedElement90", "rotatedElement135", "rotatedElement180", "rotatedElement225", "rotatedElement270", "rotatedElement315", "rotatedElement0"];
            switch (action) {
                case "size":
                    var re = new RegExp("px");
                    message.arg = message.arg.match(re) != null ? message.arg : message.arg + "px";
                    $(".news-box-new p").each(function () {
                        $(this).css("font-size", message.arg);
                        $(this).css("line-height", message.arg);
                    });
                    break;
                case "color":
                    $(".news-box-new p").each(function () {
                        $(this).css("color", message.arg);
                    });
                    break;
                case "rotation":
                    $(".news-box-new").each(function (it, el) {
                        $(this).removeClass(rotationclassactive);
                        $(this).addClass(classes[message.arg]);
                    });
                    rotationclassactive = classes[message.arg];
                    break;
                case "transform":
                    $(".news-box-new p").each(function () {
                        $(this).css("text-transform", transform[message.arg]);
                    });
                    break;
                case "effect":
                    $(".news-box-new").each(function () {
                        $(this).effect(effect[message.arg], { times: 2 }, 1000);
                    });
                    break;

                case "background":
                    $(".news-box-new").each(function () {
                        $(this).css("background-color", message.arg);
                    });
                    break;
            }

        }
                    
    </script>
<script type="text/javascript" src="./recever_files/IbtRealTimeSJCore.js"></script><script type="text/javascript" src="./recever_files/IbtRealTimeSJ.js"></script></head>
<body>
    <div>
        <div class="wrapper">

    <script type="text/javascript">
        xRTML.ready(function () {
            xRTML.TagManager.create({
                name: 'Execute',
                callback: "doSomething",
                triggers: ["broadcastChangesTrigger"]
            });
        });
    </script>

    <div class="news">
	
		<div class="news-box-new">
			<h2>News box</h2>
			<h3>News title</h3>
			<img src="./recever_files/news_photo.jpg" width="280" height="78" alt="Photo">
			<p>Sed ut perspiciatis unde omnis iste natus error sit voluptatem accusantium doloremque laudantium, totam rem aperiam, eaque ipsa quae ab illo inventore veritatis et quasi architecto beatae vitae dicta sunt explicabo.</p>
			<a href="http://www.xrtml.org/demos/broadcastexecutereceiver.aspx?SessionID=dummyToken#">Read more</a>

		</div>
		<div class="news-box-new">
			<h2>News box</h2>
			<h3>News title</h3>
			<img src="./recever_files/news_photo.jpg" width="280" height="78" alt="Photo">
			<p>Sed ut perspiciatis unde omnis iste natus error sit voluptatem accusantium doloremque laudantium, totam rem aperiam, eaque ipsa quae ab illo inventore veritatis et quasi architecto beatae vitae dicta sunt explicabo.</p>
			<a href="http://www.xrtml.org/demos/broadcastexecutereceiver.aspx?SessionID=dummyToken#">Read more</a>

		</div>
		<div class="news-box-new">
			<h2>News box</h2>
			<h3>News title</h3>
			<img src="./recever_files/news_photo.jpg" width="280" height="78" alt="Photo">
			<p>Sed ut perspiciatis unde omnis iste natus error sit voluptatem accusantium doloremque laudantium, totam rem aperiam, eaque ipsa quae ab illo inventore veritatis et quasi architecto beatae vitae dicta sunt explicabo.</p>
			<a href="http://www.xrtml.org/demos/broadcastexecutereceiver.aspx?SessionID=dummyToken#">Read more</a>

		</div>
		<div class="news-box-new">
			<h2>News box</h2>
			<h3>News title</h3>
			<img src="./recever_files/news_photo.jpg" width="280" height="78" alt="Photo">
			<p>Sed ut perspiciatis unde omnis iste natus error sit voluptatem accusantium doloremque laudantium, totam rem aperiam, eaque ipsa quae ab illo inventore veritatis et quasi architecto beatae vitae dicta sunt explicabo.</p>
			<a href="http://www.xrtml.org/demos/broadcastexecutereceiver.aspx?SessionID=dummyToken#">Read more</a>

		</div>
	
	</div> 



        </div>
    </div>
    


</body></html>